<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="css/main.css">
    <link rel="icon" type="image/png" href="imgs/scrapfavicon.png">
    <script src="js/balance.js"></script>
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js" crossorigin="anonymous"></script>
    <script src="js/chat-universal.js"></script>
    <script>
        async function checkAuthStatus() {
            try {
                const response = await fetch('/auth/user');
                const data = await response.json();
                
                if (data.success) {
                    // User is logged in
                    document.getElementById('user-profile').classList.remove('hidden');
                    document.getElementById('login-btn').style.display = 'none';
                    document.getElementById('user-avatar').src = data.user.avatar;
                    document.getElementById('user-name').textContent = data.user.name;
                } else {
                    // User is not logged in
                    document.getElementById('user-profile').classList.add('hidden');
                    document.getElementById('login-btn').style.display = 'block';
                }
            } catch (error) {
                console.log('Auth check failed:', error);
                document.getElementById('user-profile').classList.add('hidden');
                document.getElementById('login-btn').style.display = 'block';
            }
        }
        
        function logout() {
            window.location.href = '/auth/logout';
        }
        
        // Check auth status on page load
        document.addEventListener('DOMContentLoaded', checkAuthStatus);
    </script>
    <style>
        @keyframes pulse {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.05); }
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        .shimmer-effect {
            background: linear-gradient(90deg, transparent, rgba(78, 204, 163, 0.1), transparent);
            background-size: 200% 100%;
            animation: shimmer 3s infinite;
        }
        
        .floating {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .glow-text {
            text-shadow: 0 0 20px rgba(78, 204, 163, 0.5), 0 0 40px rgba(78, 204, 163, 0.3), 0 0 60px rgba(78, 204, 163, 0.1);
        }
    </style>
    <title>ScrapHouse</title>
</head>
<body style="background-color: #282828;">
    <nav style="background-color: transparent; width: 100%; height: 100px;" class="flex justify-center items-center">
        <div style="width: 95%; height: 60px; background-color: #363636; border-radius: 7px;" class="flex flex-row">
            <ul class="nav-left flex items-center space-x-4" style="height: 100%; width: 33.33%;">
                <img src="imgs/ScrapHouseLogo.png" style="cursor: pointer;" class="logo" onclick="window.location.href = window.location.origin">
                <button onclick="window.location.href = 'verify.html'" style="background-color: #424242; color: #4ECCA3; padding: 8px 16px; border-radius: 6px; border: 2px solid #4ECCA3; cursor: pointer; font-family: sansation; font-weight: bold; transition: all 0.3s ease;" onmouseover="this.style.backgroundColor='#4ECCA3'; this.style.color='white'" onmouseout="this.style.backgroundColor='#424242'; this.style.color='#4ECCA3'">
                    Provably Fair
                </button>
            </ul>
            <ul class="nav-middle flex justify-center items-center" style="width: 33.33%; height: 100%;">
                <div class="balance flex items-center justify-center relative" onclick="if (document.getElementById('depohud').classList.contains('hidden')) {document.getElementById('depohud').classList.remove('hidden')} else {document.getElementById('depohud').classList.add('hidden')}" style="cursor: pointer; height: 40px; background-color: #424242; min-width: 110px; width: auto; padding: 0 15px; border-radius: 10px;">
                    <span style="color: rgb(185, 185, 185); white-space: nowrap;">Balance: <span style="color: #4ECCA3;"><strong class="balance-display">$0.00</strong></span></span>
                    
                    <div id="depohud" class="depohud absolute flex justify-center items-center hidden" style="border-radius: 10px; background-color: #424242; top: 50px; height: 40px; width: 100%;">
                        <div class="triangle-up absolute" style="top: -15px; width: 0; justify-content: 0; border-left: 7.5px solid transparent; border-right: 7.5px solid transparent; border-bottom: 15px solid #424242;"></div>
                        <div class="deposit" onclick="window.location.href = window.location.origin + '/deposit.html'" style="width: 90%; height: 70%; border-radius: 5px; text-align: center; color: white; text-shadow: 1px 3px 10px #111">Deposit</div>
                    </div>
                </div>
            </ul>
            <ul class="nav-right" style="width: 33.33%;">
                <div class="flex items-center justify-end space-x-2" style="width: 100%; height: 100%;">
                    <!-- User Profile Section -->
                    <div id="user-profile" class="hidden flex items-center space-x-2">
                        <img id="user-avatar" src="" style="height: 40px; width: 40px; border-radius: 50%;">
                        <span id="user-name" style="color: white; font-family: sansation;"></span>
                        <button onclick="logout()" style="background-color: #424242; color: #ff6b6b; padding: 4px 8px; border-radius: 4px; font-size: 12px;">Logout</button>
                    </div>
                    <!-- Login Button -->
                    <button id="login-btn" onclick="window.location.href='/login'" style="background-color: #4ECCA3; color: white; padding: 8px 16px; border-radius: 6px; font-family: sansation; font-weight: bold;">
                        Login with Steam
                    </button>
                    <img id="chatToggle" class="nav-icons" src="imgs/message-dots.png" style="height: 40px; width: 40px;" onclick="toggleChat()">
                </div>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="flex flex-col items-center justify-center min-h-screen px-4 py-8">
        <!-- Welcome Section -->
        <div style="background: linear-gradient(135deg, #1d1d1d 0%, #2a2a2a 100%); border-radius: 20px; border: 1px solid #4ECCA3; width: 80%; box-shadow: 0 20px 40px rgba(78, 204, 163, 0.1), 0 0 30px rgba(78, 204, 163, 0.05);" class="p-8 mb-8 text-center relative overflow-hidden">
            <!-- Animated background elements -->
            <div style="position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(78, 204, 163, 0.03) 0%, transparent 70%); animation: pulse 4s ease-in-out infinite;"></div>
            <div style="position: relative; z-index: 1;">
                <h1 style="font-family: carving; color: #4ECCA3; font-size: 48px; text-shadow: 0 0 20px rgba(78, 204, 163, 0.3);" class="mb-4">Welcome to ScrapHouse</h1>
                <p style="font-family: sansation; color: #e0e0e0; font-size: 18px;" class="mb-6">
                    Experience the thrill of gambling with our exciting game modes
                </p>
                <span style="color: white; font-family: carving;">¬© 2023 - 2025 scrap-house.com</span>
            </div>
        </div>

        <!-- Game Modes Section -->
        <div style="background: linear-gradient(135deg, #1d1d1d 0%, #252525 100%); border-radius: 20px; border: 1px solid #4ECCA3; width: 80%; box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);" class="p-8 relative overflow-hidden">
            <div style="position: absolute; top: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, transparent, #4ECCA3, transparent);"></div>
            <h2 style="font-family: carving; color: #4ECCA3; font-size: 32px; text-shadow: 0 0 15px rgba(78, 204, 163, 0.4);" class="mb-6 text-center">Choose Your Game</h2>
            
            <div class="flex justify-center">
                <!-- Jackpot Game Mode -->
                <div style="background: linear-gradient(135deg, #424242 0%, #4a4a4a 50%, #424242 100%); border-radius: 20px; border: 2px solid #4ECCA3; transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); max-width: 400px; width: 100%; position: relative; overflow: hidden;" 
                     class="p-6 text-center cursor-pointer transform hover:scale-105"
                     onclick="window.location.href = 'jackpot.html'"
                     onmouseover="this.style.borderColor='#389676'; this.style.boxShadow='0 25px 50px rgba(78, 204, 163, 0.2), 0 0 40px rgba(78, 204, 163, 0.1)'; this.style.transform='scale(1.05) translateY(-5px)'"
                     onmouseout="this.style.borderColor='#4ECCA3'; this.style.boxShadow='0 10px 25px rgba(0, 0, 0, 0.2)'; this.style.transform='scale(1) translateY(0)'">
                    
                    <!-- Animated glow effect -->
                    <div style="position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(78, 204, 163, 0.05) 0%, transparent 70%); animation: rotate 8s linear infinite;"></div>
                    
                    <div style="position: relative; z-index: 1;">
                        <div class="text-6xl mb-4" style="filter: drop-shadow(0 0 10px rgba(78, 204, 163, 0.3));">üé∞</div>
                        <h3 style="font-family: carving; color: #4ECCA3; font-size: 28px; text-shadow: 0 0 15px rgba(78, 204, 163, 0.4);" class="mb-3">Jackpot</h3>
                        <p style="font-family: sansation; color: #e0e0e0; font-size: 16px;" class="mb-4">
                            Join the pot with your bet and spin for a chance to win it all! 
                            Your bet amount determines your winning percentage.
                        </p>
                        
                        <div class="flex justify-center space-x-2 mb-4">
                            <div style="background: linear-gradient(135deg, #363636 0%, #404040 100%); padding: 8px 12px; border-radius: 10px; width: 140px; text-align: center; border: 1px solid rgba(78, 204, 163, 0.2); box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);">
                                <span style="font-family: sansation; color: #4ECCA3; font-size: 12px; text-shadow: 0 0 8px rgba(78, 204, 163, 0.3);">üéØ Winner Takes All</span>
                            </div>
                            <div style="background: linear-gradient(135deg, #363636 0%, #404040 100%); padding: 8px 12px; border-radius: 10px; width: 140px; text-align: center; border: 1px solid rgba(78, 204, 163, 0.2); box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);">
                                <span style="font-family: sansation; color: #4ECCA3; font-size: 12px; text-shadow: 0 0 8px rgba(78, 204, 163, 0.3);">üíµ Percentage Based</span>
                            </div>
                            <div style="background: linear-gradient(135deg, #363636 0%, #404040 100%); padding: 8px 12px; border-radius: 10px; width: 140px; text-align: center; border: 1px solid rgba(78, 204, 163, 0.2); box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);">
                                <span style="font-family: sansation; color: #4ECCA3; font-size: 12px; text-shadow: 0 0 8px rgba(78, 204, 163, 0.3);">‚è±Ô∏è 60 Second Rounds</span>
                            </div>
                        </div>
                        
                        <button style="font-family: sansation; background: linear-gradient(135deg, #4ECCA3 0%, #389676 100%); color: white; padding: 14px 28px; border-radius: 12px; font-weight: bold; border: none; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 8px 20px rgba(78, 204, 163, 0.3); text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);"
                                onmouseover="this.style.background='linear-gradient(135deg, #389676 0%, #2d7a5f 100%)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 12px 25px rgba(78, 204, 163, 0.4)'"
                                onmouseout="this.style.background='linear-gradient(135deg, #4ECCA3 0%, #389676 100%)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 8px 20px rgba(78, 204, 163, 0.3)'">
                            Play Jackpot
                        </button>
                    </div>
                </div>

            </div>
        </div>

        <!-- Features Section -->
        <div style="background: linear-gradient(135deg, #1d1d1d 0%, #252525 100%); border-radius: 20px; border: 1px solid rgba(78, 204, 163, 0.3); width: 80%; box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);" class="p-8 mt-8 relative overflow-hidden">
            <div style="position: absolute; top: 0; left: 0; right: 0; height: 1px; background: linear-gradient(90deg, transparent, rgba(78, 204, 163, 0.5), transparent);"></div>
            <h2 style="font-family: carving; color: #4ECCA3; font-size: 28px; text-shadow: 0 0 15px rgba(78, 204, 163, 0.3);" class="mb-6 text-center">Why Choose ScrapHouse?</h2>
            
            <div class="flex justify-center">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 w-full max-w-2xl">
                    <div class="text-center p-4 rounded-xl" style="background: linear-gradient(135deg, rgba(78, 204, 163, 0.05) 0%, rgba(78, 204, 163, 0.02) 100%); border: 1px solid rgba(78, 204, 163, 0.1); transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 15px 30px rgba(78, 204, 163, 0.1)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                        <div class="text-4xl mb-3" style="filter: drop-shadow(0 0 8px rgba(78, 204, 163, 0.3));">üîí</div>
                        <h3 style="font-family: sansation; color: #4ECCA3; font-size: 20px; text-shadow: 0 0 10px rgba(78, 204, 163, 0.2);" class="mb-2">Provably Fair</h3>
                        <p style="font-family: sansation; color: #d0d0d0;">Every game uses cryptographic secrets to ensure complete fairness and transparency.</p>
                    </div>
                    
                    <div class="text-center p-4 rounded-xl" style="background: linear-gradient(135deg, rgba(78, 204, 163, 0.05) 0%, rgba(78, 204, 163, 0.02) 100%); border: 1px solid rgba(78, 204, 163, 0.1); transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 15px 30px rgba(78, 204, 163, 0.1)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                        <div class="text-4xl mb-3" style="filter: drop-shadow(0 0 8px rgba(78, 204, 163, 0.3));">‚ö°</div>
                        <h3 style="font-family: sansation; color: #4ECCA3; font-size: 20px; text-shadow: 0 0 10px rgba(78, 204, 163, 0.2);" class="mb-2">Instant Gaming</h3>
                        <p style="font-family: sansation; color: #d0d0d0;">No downloads required. Play directly in your browser with instant results.</p>
                    </div>
                </div>
            </div>
            
            <!-- Hidden Player Advantage Feature -->
            <div style="display: none;">
                <div class="text-center p-4 rounded-xl" style="background: linear-gradient(135deg, rgba(78, 204, 163, 0.05) 0%, rgba(78, 204, 163, 0.02) 100%); border: 1px solid rgba(78, 204, 163, 0.1); transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 15px 30px rgba(78, 204, 163, 0.1)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                    <div class="text-4xl mb-3" style="filter: drop-shadow(0 0 8px rgba(78, 204, 163, 0.3));">üéØ</div>
                    <h3 style="font-family: sansation; color: #4ECCA3; font-size: 20px; text-shadow: 0 0 10px rgba(78, 204, 163, 0.2);" class="mb-2">Player Advantage</h3>
                    <p style="font-family: sansation; color: #d0d0d0;">Real players get guaranteed advantages over automated players in our games.</p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>