<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="css/main.css">
    <link rel="icon" type="image/png" href="imgs/scrapfavicon.png">
    <script src="js/balance.js"></script>
    <title>Rust Skins Deposit - ScrapHouse</title>
</head>
<body style="background-color: #282828;">
    <div id="DepositShade" onclick="window.location.href = 'deposit.html'" class="DepositShade absolute flex justify-center items-center" style="background-color: black; opacity: 0.6; width: 100%; height: 100%; z-index: 4;"></div>
    <div id="DepositPage" class="DepositPage absolute flex justify-center items-center" style="height: 100%; width: 100%;">
        <div style="overflow-y: auto; background-color: #282828; border-radius: 30px 0px 0px 30px; z-index: 5; width: 70%; height: 80%; border: 1px solid #424242;" class="flex items-center flex-col">
            
            <!-- Header -->
            <div class="flex items-center justify-between" style="width: 90%; margin-top: 20px;">
                <button onclick="window.location.href = 'deposit.html'" class="flex items-center" style="background: none; border: none; color: #4ECCA3; font-family: sansation; cursor: pointer;">
                    <span style="font-size: 20px; margin-right: 10px;">‚Üê</span> Back to Deposits
                </button>
                <div class="flex items-center">
                    <img src="imgs/DepositMethods/rust.png" style="width: 40px; height: 40px; margin-right: 10px;">
                    <span style="font-size: 28px; color: #4ECCA3; font-family: carving;">Rust Skins</span>
                </div>
            </div>

            <hr style="color: rgb(65, 65, 65); width: 90%; height: 2px; margin: 20px 0;">

            <!-- Deposit Form -->
            <div style="width: 90%; background-color: #1d1d1d; border-radius: 15px; padding: 30px;">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    
                    <!-- Left Column - Deposit Info -->
                    <div>
                        <h3 style="color: #4ECCA3; font-family: carving; font-size: 22px; margin-bottom: 20px;">Steam Trade Information</h3>
                        
                        <div style="background-color: #363636; border-radius: 10px; padding: 20px; margin-bottom: 20px;">
                            <div style="margin-bottom: 15px;">
                                <label style="color: #b9b9b9; font-family: sansation; font-size: 14px;">Trade URL:</label>
                                <div class="flex items-center" style="margin-top: 5px;">
                                    <input type="text" id="tradeUrl" placeholder="Paste your Steam trade URL here..." 
                                           style="background-color: #282828; border: 1px solid #424242; border-radius: 8px; padding: 10px; color: white; font-family: sansation; font-size: 12px; flex: 1;">
                                    <button onclick="saveTradeUrl()" style="background-color: #4ECCA3; color: white; border: none; border-radius: 8px; padding: 10px 15px; margin-left: 10px; cursor: pointer; font-family: sansation;">
                                        Save
                                    </button>
                                </div>
                            </div>
                            
                            <div style="margin-bottom: 15px;">
                                <label style="color: #b9b9b9; font-family: sansation; font-size: 14px;">Game:</label>
                                <div style="color: white; font-family: sansation; margin-top: 5px;">Rust</div>
                            </div>
                            
                            <div style="margin-bottom: 15px;">
                                <label style="color: #b9b9b9; font-family: sansation; font-size: 14px;">Minimum Value:</label>
                                <div style="color: #4ECCA3; font-family: sansation; margin-top: 5px; font-weight: bold;">$5.00</div>
                            </div>
                            
                            <div>
                                <label style="color: #b9b9b9; font-family: sansation; font-size: 14px;">Processing Time:</label>
                                <div style="color: white; font-family: sansation; margin-top: 5px;">1-5 minutes</div>
                            </div>
                        </div>

                        <!-- Important Notes -->
                        <div style="background-color: #424242; border-radius: 10px; padding: 15px; border-left: 4px solid #ff6b6b;">
                            <h4 style="color: #ff6b6b; font-family: sansation; font-size: 16px; margin-bottom: 10px;">‚ö†Ô∏è Important Notes</h4>
                            <ul style="color: #b9b9b9; font-family: sansation; font-size: 13px; line-height: 1.5;">
                                <li>‚Ä¢ Steam inventory must be public</li>
                                <li>‚Ä¢ No trade holds or restrictions</li>
                                <li>‚Ä¢ Minimum skin value: $5.00</li>
                                <li>‚Ä¢ We accept all tradeable Rust skins</li>
                                <li>‚Ä¢ Instant credit after trade completion</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Right Column - Bot Info & Status -->
                    <div class="flex flex-col items-center">
                        <h3 style="color: #4ECCA3; font-family: carving; font-size: 22px; margin-bottom: 20px;">Trade Bot</h3>
                        
                        <div style="background-color: #363636; border-radius: 15px; padding: 20px; margin-bottom: 20px; width: 100%;">
                            <div class="flex items-center justify-center" style="margin-bottom: 15px;">
                                <img src="imgs/steam-bot-avatar.png" style="width: 64px; height: 64px; border-radius: 50%; margin-right: 15px;" onerror="this.style.display='none'">
                                <div>
                                    <div style="color: #4ECCA3; font-family: sansation; font-size: 16px; font-weight: bold;">ScrapHouse Bot #1</div>
                                    <div style="color: #4CAF50; font-family: sansation; font-size: 12px;">üü¢ Online</div>
                                </div>
                            </div>
                            
                            <button onclick="sendTradeOffer()" id="tradeBtn" disabled style="width: 100%; background-color: #666; color: white; border: none; border-radius: 8px; padding: 12px; font-family: sansation; cursor: not-allowed;">
                                Enter Trade URL First
                            </button>
                        </div>

                        <!-- Deposit Status -->
                        <div style="width: 100%; background-color: #363636; border-radius: 10px; padding: 20px;">
                            <h4 style="color: #4ECCA3; font-family: sansation; font-size: 16px; margin-bottom: 15px;">Recent Deposits</h4>
                            <div id="recentDeposits" style="max-height: 200px; overflow-y: auto;">
                                <div style="color: #666; font-family: sansation; font-size: 12px; text-align: center; padding: 20px;">
                                    No recent deposits
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav style="background-color: transparent; width: 100%; height: 100px;" class="flex justify-center items-center">
        <div style="width: 95%; height: 60px; background-color: #363636; border-radius: 7px;" class="flex flex-row">
            <ul class="nav-left flex items-center" style="height: 100%; width: 33%;">
                <img src="imgs/ScrapHouseLogo.png" style="cursor: pointer;" class="logo" onclick="window.location.href = window.location.origin">
            </ul>
            <ul class="nav-middle flex justify-center items-center" style="width: 33%; height: 100%;">
                <div class="balance flex items-center justify-center relative" style="cursor: pointer; height: 75%; background-color: #424242; min-width: 110px; width: auto; padding: 0 15px; border-radius: 10px;">
                    <span style="color: rgb(185, 185, 185); white-space: nowrap;">Balance: <span style="color: #4ECCA3;"><strong class="balance-display">$0.00</strong></span></span>
                </div>
            </ul>
            <ul class="nav-right" style="width: 33%;">
                <div class="flex items-center" style="width: 100%; height: 100%; flex-direction: row-reverse;">
                    <img src="imgs/user-circle.png" style="height: 40px; width: 40px;">
                    <img src="imgs/message-dots.png" style="height: 40px; width: 40px;">
                </div>
            </ul>
        </div>
    </nav>

    <script>
        function saveTradeUrl() {
            const tradeUrl = document.getElementById('tradeUrl').value;
            if (!tradeUrl || !tradeUrl.includes('steamcommunity.com/tradeoffer/new/')) {
                alert('Please enter a valid Steam trade URL');
                return;
            }
            
            localStorage.setItem('steamTradeUrl', tradeUrl);
            
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = 'Saved!';
            button.style.backgroundColor = '#4CAF50';
            
            // Enable trade button
            const tradeBtn = document.getElementById('tradeBtn');
            tradeBtn.disabled = false;
            tradeBtn.style.backgroundColor = '#4ECCA3';
            tradeBtn.style.cursor = 'pointer';
            tradeBtn.textContent = 'Send Trade Offer';
            
            setTimeout(() => {
                button.textContent = originalText;
                button.style.backgroundColor = '#4ECCA3';
            }, 2000);
        }

        function sendTradeOffer() {
            const tradeUrl = localStorage.getItem('steamTradeUrl');
            if (!tradeUrl) {
                alert('Please save your trade URL first');
                return;
            }
            
            // In a real implementation, this would send a request to your backend
            // to initiate a Steam trade offer
            alert('Trade offer functionality would be implemented here.\n\nThis would:\n1. Scan your Rust inventory\n2. Calculate skin values\n3. Send trade offer\n4. Credit your account upon acceptance');
        }

        // Load saved trade URL on page load
        window.addEventListener('load', () => {
            const savedUrl = localStorage.getItem('steamTradeUrl');
            if (savedUrl) {
                document.getElementById('tradeUrl').value = savedUrl;
                const tradeBtn = document.getElementById('tradeBtn');
                tradeBtn.disabled = false;
                tradeBtn.style.backgroundColor = '#4ECCA3';
                tradeBtn.style.cursor = 'pointer';
                tradeBtn.textContent = 'Send Trade Offer';
            }
        });
    </script>
</body>
</html>
